<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Review</title>
<link rel="stylesheet" href="/vendor/starry-night-dark.css">
<link rel="stylesheet" href="/css/main.css">
<script>
  // Restore theme before paint to prevent flash
  const t = localStorage.getItem('ai-review-theme');
  if (t === 'light') document.documentElement.setAttribute('data-theme', 'light');
</script>
</head>
<body>

<div class="header">
  <h1>AI Review</h1>
  <span class="branch" id="branch-info">--</span>
  <div class="stats">
    <span id="stat-files">íŒŒì¼ 0ê°œ</span>
    <span id="stat-reviews">ë¦¬ë·° 0ê°œ</span>
    <span id="stat-issues">ì´ìŠˆ 0ê°œ</span>
    <button class="btn btn-primary" id="btn-process" style="display:none" onclick="processReviews()">ë¦¬ë·° ì²˜ë¦¬</button>
    <button class="btn btn-finish" id="btn-finish" style="display:none" onclick="finishReview()">ë¦¬ë·° ì™„ë£Œ</button>
    <button class="theme-toggle" id="theme-toggle" onclick="toggleTheme()" title="í…Œë§ˆ ì „í™˜"></button>
  </div>
</div>

<div class="session-tabs" id="session-tabs">
  <div class="session-tab-list" id="session-tab-list"></div>
  <button class="session-tab-add" onclick="openNewSessionModal()" title="ìƒˆ ì„¸ì…˜">+</button>
</div>

<div class="main-tab-bar" id="main-tab-bar">
  <button type="button" class="main-tab active" data-tab="conversation" onclick="switchMainTab('conversation')">
    <span class="main-tab-icon">ğŸ’¬</span> Conversation <span class="main-tab-badge" id="tab-badge-conversation"></span>
  </button>
  <button type="button" class="main-tab" data-tab="changes" onclick="switchMainTab('changes')">
    <span class="main-tab-icon">ğŸ“</span> Changes <span class="main-tab-badge" id="tab-badge-changes"></span>
  </button>
</div>

<div class="main">
  <aside class="changes-sidebar" id="changes-sidebar" style="display:none">
    <div class="changes-sidebar-header">
      <span class="changes-sidebar-title">Files</span>
      <span class="changes-sidebar-count" id="changes-sidebar-count"></span>
    </div>
    <div class="changes-sidebar-tools">
      <div class="file-filter-input-wrap">
        <span class="search-icon">ğŸ”</span>
        <input class="file-filter-input" id="changes-file-filter-input" placeholder="íŒŒì¼ ê²€ìƒ‰â€¦" oninput="onChangesFileFilterInput(this.value)">
      </div>
    </div>
    <div class="changes-sidebar-list" id="changes-sidebar-list"></div>
  </aside>
  <div class="changes-sidebar-splitter" id="changes-sidebar-splitter" style="display:none"></div>
  <div class="main-content" id="main-content">
    <div class="main-tab-content" id="main-tab-content">
      <div class="empty-state"><div class="icon">&#128221;</div><div class="message">ë¦¬ë·° ì„¸ì…˜ì„ ì‹œì‘í•˜ì„¸ìš”</div></div>
    </div>
  </div>
  <div class="right-side-splitter" id="right-side-splitter"></div>
  <aside class="reviewers-sidebar" id="reviewers-sidebar">
    <div class="reviewers-header">
      <div class="reviewers-title-wrap">
        <span class="reviewers-title">Reviewers</span>
        <span class="reviewers-count" id="reviewers-count">0ëª…</span>
      </div>
      <div class="agent-actions" style="margin-left:auto">
        <button class="btn btn-agent-add" onclick="openAddAgentModal()">í”„ë¦¬ì…‹ ê´€ë¦¬</button>
      </div>
    </div>
    <div class="reviewers-list" id="reviewers-list">
      <div class="reviewers-empty">ë¦¬ë·°ì–´ê°€ ì—†ìŠµë‹ˆë‹¤.<br>í”„ë¦¬ì…‹ì„ ì¶”ê°€í•´ ì‹œì‘í•˜ì„¸ìš”.</div>
    </div>
  </aside>
</div>

<div class="summary-bar" id="summary-bar">ì¤€ë¹„ ì™„ë£Œ</div>

<script type="module" src="/js/app.js"></script>
</body>
</html>
